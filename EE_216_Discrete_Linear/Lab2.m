%***********************
%James Anderson
%Lab 2 Section E
%***********************
%---------------------------------------------------------------
%1
%---------------------------------------------------------------
T=0.01;
a=1;b=2;c=2;
t=1:T:5;
x=(1./(1+t));

y(1)=4;
y(2)=(1/(a+b*T))*(a*y(1)+c*T*x(2));
y(3)=(1/(a+b*T))*(a*y(2)+c*T*x(3));
y(4)=(1/(a+b*T))*(a*y(3)+c*T*x(4));
y

%---------------------------------------------------------------
%2
%---------------------------------------------------------------
Y(1)=4;
Y(2)=(c*T/(2*a+b*T))*(x(2)-x(1))+((2*a-b*T)/(2*a+b*T))*Y(1);
Y(3)=(c*T/(2*a+b*T))*(x(3)-x(2))+((2*a-b*T)/(2*a+b*T))*Y(2);
Y(3)=(c*T/(2*a+b*T))*(x(4)-x(3))+((2*a-b*T)/(2*a+b*T))*Y(3);
Y


t=-0.1:0.005:0.1;
i1=2.4*cos(15*pi*t-0.8);
i2=4.2*cos(15*pi*t-1.9);

plot(t,i1,'r',t,i2,'b');

x=2*us(t+2.5)+2*ur(t+2)-10*us(t+1)-ur(t)-ur(t-1)+us(t-1)+...
    ur(t-2.5)-0.5*ur(t-6.5);

figure(2);
plot(t,x)

%---------------------------------------------------------------
%3
%---------------------------------------------------------------




T=0.01;
t=0.6:0.05:1.6;
x=t.*(us(t-0.8)-us(t-1.1));
plot(x)

R=2e3;
C=10e-6;
y(1)=0;
Y2(1)=0;
y(1)=0;
a=R*C;
c=1;
b=1;
for k=2:length(x)
    y(k)=(1/(a+b*T))*(a*y(k-1)+c*T*x(k));
    Y2(k)=(c*T/(2*a+b*T))*(x(k)+ x(k-1))+((2*a-b*T)/(2*a+b*T))*Y2(k-1);
end

figure(3);
plot(t,y,'r')
figure(4);
plot(t,Y2,'b');

%---------------------------------------------------------------
%4
%---------------------------------------------------------------
T=0.01;
t=-0.1:T:0.2;
h=(1/a)*(exp(-t/a).*us(t));
figure(5);
plot(t,h);

%---------------------------------------------------------------
%5
%---------------------------------------------------------------
t=0:0.5:10;
T=0.5;
y(1)=0;
y(2)=1-0.35*T;
for i=1:length(t)
    if (t>=1 & t<2)
        x(i)=-3*t+6;
    else
        if (t>=2 & t<3)
            x(i)= -3*t+9;
        else
            if(t>=3 & t<4)
                x(i)=-3*t+12;
            else
                x(i)=0;
            end
        end
    end
end


plot(x)